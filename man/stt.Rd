% Generated by rhydrogen: do not edit by hand
% Please edit documentation in R/stt.R
\name{stt}
\alias{stt}
\title{Speech to Text}
\usage{
stt(
  file,
  model = NULL,
  language = NULL,
  response_format = c("json", "text", "verbose_json"),
  backend = c("auto", "whisper", "audio.whisper", "openai", "fal"),
  prompt = NULL
)
}
\arguments{
\item{file}{Path to the audio file to convert.}

\item{model}{Model name to use for transcription. For API backends, this
is passed directly (e.g., "whisper-1"). For audio.whisper, this is
the model size (e.g., "tiny", "base", "small", "medium", "large").
If NULL, uses the backend's default.}

\item{language}{Language code (e.g., "en", "es", "fr"). Optional hint
to improve transcription accuracy.}

\item{response_format}{Response format for API backend. One of "text",
"json", or "verbose_json". Ignored for audio.whisper backend.}

\item{backend}{Which backend to use: "auto" (default), "whisper",
"audio.whisper", "openai", or "fal". Auto mode tries native whisper first,
then audio.whisper, then openai API (if configured), then fal.api.}

\item{prompt}{Optional text to guide the transcription. For API backend,
this is passed as initial_prompt to help with spelling of names,
acronyms, or domain-specific terms. Ignored for audio.whisper backend
(not supported by underlying library).}
}
\value{
A list with components:
\describe{
  \item{text}{The transcribed text as a single string.}
  \item{segments}{A data.frame of segments with timing info, or NULL.}
  \item{language}{The detected or specified language code.}
  \item{backend}{Which backend was used ("api" or "audio.whisper").}
  \item{raw}{The raw response from the backend.}
}
}
\description{
Convert an audio file to text using an OpenAI-compatible API or
local audio.whisper backend.
}
\examples{
\dontrun{
# Using OpenAI API
set_stt_base("https://api.openai.com")
set_stt_key(Sys.getenv("OPENAI_API_KEY"))
result <- stt("speech.wav", model = "whisper-1")
result$text

# Using local server
set_stt_base("http://localhost:4123")
result <- stt("speech.wav")

# Using audio.whisper directly
result <- stt("speech.wav", backend = "audio.whisper")
}

}
